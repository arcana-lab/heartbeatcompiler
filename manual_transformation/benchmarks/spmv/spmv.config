# input class used for spmv
# options: SPMV_RANDOM, SPMV_ARROWHEAD, SPMV_POWERLAW, SPMV_DENSE, SPMV_DIAGONAL
INPUT_CLASS ?= SPMV_RANDOM
ifeq ($(INPUT_CLASS), SPMV_RANDOM)
  MACROS += -DSPMV_RANDOM
else ifeq ($(INPUT_CLASS), SPMV_POWERLAW)
  MACROS += -DSPMV_POWERLAW
else ifeq ($(INPUT_CLASS), SPMV_ARROWHEAD)
  MACROS += -DSPMV_ARROWHEAD
else ifeq ($(INPUT_CLASS), SPMV_DENSE)
  MACROS += -DSPMV_DENSE
else ifeq ($(INPUT_CLASS), SPMV_DIAGONAL)
  MACROS += -DSPMV_DIAGONAL
endif

# cilk implementation used for spmv
# options: OPENCILK_{MAP_REDUCE, OUTER_SPAWN, OUTER_FOR, REDUCER}
OPENCILK_IMPL ?= OPENCILK_MAP_REDUCE
ifeq ($(OPENCILK_IMPL), OPENCILK_MAP_REDUCE)
  MACROS_OPENCILK += -DOPENCILK_MAP_REDUCE
else ifeq ($(OPENCILK_IMPL), OPENCILK_OUTER_SPAWN)
  MACROS_OPENCILK += -DOPENCILK_OUTER_SPAWN
else ifeq ($(OPENCILK_IMPL), OPENCILK_OUTER_FOR)
  MACROS_OPENCILK += -DOPENCILK_OUTER_FOR
else ifeq ($(OPENCILK_IMPL), OPENCILK_REDUCER)
  MACROS_OPENCILK += -DOPENCILK_REDUCER
endif

HANDLE_LIVE_OUT = true

CHUNKSIZE_0 ?= 1024
CHUNKSIZE_1 ?= 1024
MACROS_HEARTBEAT += -DCHUNKSIZE_0=$(CHUNKSIZE_0) -DCHUNKSIZE_1=$(CHUNKSIZE_1)
