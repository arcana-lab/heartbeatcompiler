# input class used for spmv
# options: SPMV_{RANDOM, POWERLAW, ARROWHEAD, DENSE, DIAGONAL, NORMAL}
INPUT_CLASS ?= SPMV_RANDOM
ifeq ($(INPUT_CLASS), $(filter $(INPUT_CLASS), SPMV_RANDOM RANDOM))
  MACROS += -DSPMV_RANDOM
else ifeq ($(INPUT_CLASS), $(filter $(INPUT_CLASS), SPMV_POWERLAW POWERLAW))
  MACROS += -DSPMV_POWERLAW
else ifeq ($(INPUT_CLASS), $(filter $(INPUT_CLASS), SPMV_ARROWHEAD ARROWHEAD))
  MACROS += -DSPMV_ARROWHEAD
else ifeq ($(INPUT_CLASS), $(filter $(INPUT_CLASS), SPMV_DENSE DENSE))
  MACROS += -DSPMV_DENSE
else ifeq ($(INPUT_CLASS), $(filter $(INPUT_CLASS), SPMV_DIAGONAL DIAGONAL))
  MACROS += -DSPMV_DIAGONAL
else ifeq ($(INPUT_CLASS), $(filter $(INPUT_CLASS), SPMV_NORMAL NORMAL))
  MACROS += -DSPMV_NORMAL
else ifeq ($(INPUT_CLASS), $(filter $(INPUT_CLASS), SPMV_MATRIX_MARKET MATRIX_MARKET))
  MACROS += -DSPMV_MATRIX_MARKET
  FLAGS += -I$(ROOT_DIR)/matrix-market/include
endif

# cilk implementation used for spmv
# options: OPENCILK_{REDUCER, MANUAL_GRANULARITY, OUTER_FOR, HEURISTICS}
OPENCILK_IMPL ?= OPENCILK_HEURISTICS
ifeq ($(OPENCILK_IMPL), OPENCILK_REDUCER)
  MACROS_OPENCILK += -DOPENCILK_REDUCER
else ifeq ($(OPENCILK_IMPL), OPENCILK_MANUAL_GRANULARITY)
  MACROS_OPENCILK += -DOPENCILK_MANUAL_GRANULARITY
else ifeq ($(OPENCILK_IMPL), OPENCILK_OUTER_FOR)
  MACROS_OPENCILK += -DOPENCILK_OUTER_FOR
else ifeq ($(OPENCILK_IMPL), OPENCILK_HEURISTICS)
  MACROS_OPENCILK += -DOPENCILK_HEURISTICS
endif
